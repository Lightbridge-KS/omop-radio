# OMOP CDM for Curated Research Datasets: A Critical Assessment for Radiology Repositories

OMOP CDM is increasingly used for research datasets beyond operational healthcare systems, but significant challenges exist for curated repositories—particularly around person ID management and visit modeling. For your 6 radiology research datasets at Ramathibodi Hospital, **OMOP may not be optimal** unless multi-institutional collaboration is planned. Established workarounds exist for both technical challenges, though they require accepting compromises in data structure and semantics.

## The research paradox: OMOP designed for EHR, adapted for research

The fundamental tension is clear: OMOP CDM was architecturally designed for operational electronic health records and administrative claims data, yet researchers increasingly adopt it for curated datasets, registries, and biobanks. This creates friction. Academic literature documents this extensively—a 2021 BMC Medical Research Methodology study transforming pulmonary hypertension registries found that only 43.3% of condition records could be mapped due to OMOP's convention of excluding "non-events" (when assessments weren't performed). For prospective research studies that deliberately record negative findings, this represents massive information loss.

However, the benefits driving adoption are substantial: standardized vocabularies enable cross-institutional queries, federated network capabilities preserve privacy while enabling collaboration, and the OHDSI ecosystem provides sophisticated analytical tools. Networks like EHDEN (850+ million records across Europe) and N3C (75+ million COVID-19 patient records) demonstrate OMOP's power for multi-site research. The question becomes whether these benefits justify the implementation burden for single-institution curated datasets.

## Person ID collision: documented solutions from research networks

Your first concern—person_id collisions across datasets—has multiple proven solutions implemented by research networks worldwide. The OMOP specification intentionally separates internal identifiers (person_id as system-generated integers) from source identifiers (person_source_value storing your original study IDs). This architectural decision enables flexibility but requires deliberate ETL strategy.

**Dataset-specific ID offset strategy** is the simplest approach. Assign non-overlapping ranges: stroke dataset uses person_id 1-1,000,000, lung disease uses 1,000,001-2,000,000, and so forth. Document ranges in the CDM_SOURCE table's cdm_etl_reference field. Estonia's national health database integration (JAMIA Open 2023) used provenance tracking—transforming records "as they are" even with duplicates, but adding source dataset information to enable filtering. Their approach: store JSON annotations in person_source_value like {"dataset":"STROKE","study_id":"12345"} to maintain traceability.

**For federated analysis without patient-level data pooling**, the OHDSI network model keeps separate OMOP instances per dataset. Each maintains independent person_id spaces behind institutional firewalls. Distributed queries execute locally, returning only aggregate results. FeederNet in Korea (33 institutions) pioneered this with federated machine learning—model weights shared, never patient data—achieving 14% performance improvement over single-site models for steroid side effect prediction. This eliminates collision concerns entirely but requires network infrastructure.

**Cross-dataset person reconciliation** when linking is needed requires hash-based deduplication or manual mapping tables. N3C's Privacy Preserving Record Linkage uses linkage honest brokers to match patients across contributing sites without exposing identities. Dates are algorithmically shifted but remain consistent within individuals. For your use case, if patients might appear in multiple research datasets, create a person_mapping table storing dataset-specific IDs with match confidence scores. Hash key demographic attributes (date of birth, gender, name components) to identify potential duplicates, then manually review high-confidence matches.

**Community consensus from OHDSI forums**: there's no standard solution. ETL developers must choose based on use case. Chris Knoll (Janssen OHDSI developer) recommends database sequences for guaranteed uniqueness: "Use nextval('person_sequence_name') to maintain an int-to-unique-key map, giving you 2 billion unique lives with tightly packed insertion." The critical principle: document your strategy thoroughly in metadata tables and ETL specifications.

## Visit modeling: the fundamental mismatch for imaging-only datasets

Your second concern—visit_occurrence requirements for datasets lacking natural visits—represents OMOP's most significant limitation for research data. The schema was designed assuming clinical encounters: admissions, outpatient appointments, emergency visits. Research imaging studies with only timestamps and DICOM metadata don't fit this paradigm. Yet foreign key constraints throughout clinical event tables reference visit_occurrence_id, creating a forced dependency.

**The VISIT_DETAIL approach is now OHDSI's recommended best practice** according to Clair Blacketer (Janssen CDM Working Group co-lead). Originally designed for hospital unit transfers, it's evolved into the primary ETL vehicle for research data. The pattern: create VISIT_DETAIL records with 1:1 referential integrity to source data (each imaging study becomes a visit_detail record), then apply standardized logic to roll up into VISIT_OCCURRENCE. Optum Clinformatics implements this at scale: 43 visit_detail concepts aggregate to 10 visit_occurrence concepts. This preserves granularity for auditing while satisfying schema requirements.

**For imaging-only repositories, synthetic visit creation is straightforward**: one visit per imaging study, using visit_concept_id = 9202 (Outpatient Visit) or concept_id = 0 when no appropriate concept exists. The crucial insight: OMOP conventions explicitly allow concept_id = 0 for unmappable concepts, documented in source_value fields. A 2020 Weill Cornell biospecimen study found specimen collection timestamps don't map to OMOP visit concepts, recommending synthetic visits with visit_type_concept_id = 44803476 ("Research administration"). For your radiology datasets, create visit records matching imaging study dates, link via visit_occurrence_id, and document the approach as "synthetic visits representing imaging study events."

**The MI-CDM extension provides a critical refinement**: visit_occurrence_id is **optional** in the Image_occurrence table. This radiology-specific extension (developed by Yonsei University, published in Journal of Imaging Informatics in Medicine 2024) was designed precisely for standalone imaging repositories. The Image_occurrence table can maintain person_id linkage while setting visit_occurrence_id to NULL, accommodating screening studies, research-only imaging, and PACS archives without clinical encounters. This extension is now part of the OHDSI Medical Imaging Working Group's reference implementation.

**Alternative patterns documented in OHDSI forums** include using observation_period instead of visits to define data capture windows, or creating default "unknown visit" records per person spanning their observation period (using negative person_id values as visit_occurrence_id to distinguish synthetic records). Some implementations relax foreign key constraints to allow NULL visit_occurrence_id, though this deviates from standard OMOP. The N3C macrovisits methodology offers post-hoc aggregation—keeping atomic "microvisits" in source data, algorithmically combining them into "macrovisits" representing actual care experiences, demonstrated across 75 sites with reduced variance in hospitalization metrics.

## Radiology-specific implementations: proven frameworks exist

The OHDSI Medical Imaging Working Group has developed mature extensions specifically addressing radiology research challenges. Two complementary models have emerged with real-world validation.

**R-CDM (Radiology Common Data Model)** from Ajou University Hospital processed 41.7 terabytes: 87 million DICOM files across 2.8 million imaging cases. The extension adds two tables—Radiology_Occurrence for study-level metadata and Radiology_Image for image-level details—linking to standard OMOP via person_id. They achieved over 99.9% accuracy for device and resolution metadata, though protocol mapping reached only 72% due to inconsistent DICOM Series Description fields. Their solution: deep learning image classifiers to automatically categorize images when metadata proved unreliable, combined with manual mapping of 5,753 RadLex protocol terminologies to LOINC codes.

**MI-CDM (Medical Imaging Common Data Model)** refined this approach in 2024, operating at series (not instance) granularity with provenance tracking for AI-derived features. The Image_occurrence table stores study and series UIDs, modality concepts, anatomic site, and retrieval paths (DICOMweb wadors_uri or local file paths). The Image_feature table captures measurements with full algorithm provenance—alg_system stores algorithm URI with version, alg_datetime records processing timestamp, enabling reproducibility. Validated on the Alzheimer's Disease Neuroimaging Initiative dataset (4,756 MRI series), researchers used ATLAS to define cohorts based on MRI acquisition parameters (T1-weighted scans with specific TR/TE/TI values), demonstrating federated imaging research capability.

**DICOM vocabulary integration** achieved semantic standardization in 2025: 16,958 OMOP concepts now represent DICOM terminology extracted from standards Parts 3, 6, and 16. Critical tags map systematically: Modality (0008,0060) to modality_concept_id, Body Part Examined (0018,0015) to anatomic_site_concept_id, Study Instance UID to image_study_UID. The ETL extracts metadata during PACS scans, handles incomplete fields via image classification, and stores technical parameters (CT kVp/mA, MRI TR/TE/TI) enabling protocol-specific cohort queries.

**RadLex terminology mapping** follows established pathways through the LOINC/RSNA RadLex Playbook. RadLex's 75,000+ terms cover anatomy, findings, and procedures not adequately represented in SNOMED. The vocabulary hierarchy: SNOMED for anatomy and standard procedures, LOINC for measurements and protocols, RadLex for radiology-specific findings (ground glass opacity, lung nodule characteristics), and DICOM for acquisition parameters. Ajou's GitHub repository shares their complete mapping: https://github.com/ABMI/Radiology-CDM.

**Real-world imaging implementations** span multiple domains. ProCAncer-I (European consortium) integrated 47,823 prostate MRI images with PIRADS scores and radiologist experience metadata. Wonkwang University processed 368 million liver imaging files, creating R_CDM with automated Liver Surface Nodularity quantification. Korean researchers demonstrated diabetic retinopathy (4,852 retinal images) and lung cancer cohorts (47 million DICOM instances) using Entity-Attribute-Value models. The pattern across implementations: imaging studies as procedures in Procedure_occurrence table, detailed metadata in Image_occurrence, derived features in Image_feature, with optional visit linkage.

## When OMOP fails research: documented limitations and alternatives

Critical analysis reveals scenarios where OMOP imposes more burden than benefit. The 2016 Garza comparative study (most comprehensive CDM evaluation) found OMOP achieved 76% data element coverage—highest among models tested—but this means 24% of research data elements have no natural representation. The schema's 615 elements create complexity: i2b2 accomplishes similar goals with just 175 elements (Journal of Biomedical Informatics 2023).

**Resource intensity is substantial**: ETL requires project managers, epidemiologists, biostatisticians, developers, medical terminologists, and data scientists. Implementations report 3+ months for ETL development plus 2+ months for evaluation. For curated research datasets where source structure already serves research needs, this transformation represents pure overhead. A BMD Software 2024 analysis noted: "For medical imaging data, depending on the case study the number of features and features themselves can vary a lot, which would require changes to local OMOP CDM tables: instead we could just use the source data, the transformation to a CDM standard would be redundant."

**Single-site research rarely justifies OMOP's complexity** unless specific OHDSI network participation is planned. The benefits—running identical code across sites, federated queries, standardized phenotypes—only materialize in multi-institutional contexts. For your 6 datasets at a single hospital, i2b2 offers simpler implementation with adequate analytical tools. Its star schema with denormalized fact table ingests data without transformation, queries require 7-20 lines of code versus complex OMOP SQL, and 200+ sites worldwide use it successfully for cohort identification.

**FHIR represents the modern interoperability alternative** designed for real-time clinical care and data exchange. Its RESTful API architecture and ImagingStudy resource provide native radiology support. While less optimized for analytics than OMOP, FHIR enables EHR integration that OMOP cannot. Hybrid "OMOP-on-FHIR" approaches are emerging: MENDS-on-FHIR successfully replaced custom ETL with standards-based interoperable resources for chronic disease surveillance. For research repositories anticipating clinical system integration, FHIR may preserve more flexibility.

**Vocabulary limitations for specialized domains** create ongoing friction. The pulmonary hypertension registry study found that rare disease aetiologies "are often not fully represented in medical vocabularies such as ICD... the OMOP CDM was originally developed for electronic health records and claims data." Custom concepts (starting at concept_id 2,128,000,000) fill gaps but only work within local instances, not across OHDSI networks. Cancer research required a dedicated oncology module extension. The 2024 cancer OMOP adoption review noted "limited studies explored NLP methods to build data infrastructure" because "a substantial amount of clinically relevant information for cancer is represented in unstructured form" that OMOP doesn't handle well.

**The "no negative findings" convention eliminates critical research data**: OMOP maps only events that occurred, excluding "no" answers in prospective research. This philosophical choice, sensible for billing data, destroys information when absence of findings carries clinical meaning. Studies report 43-56% record loss when migrating prospective research data.

## Decision framework: when to adopt OMOP versus alternatives

The strategic choice depends less on technical features than on research objectives and available resources. Use OMOP when multi-institutional collaborative research is the core objective, you have dedicated informatics teams (3+ people), research questions fit observational paradigms, and 6-12 month implementation timelines are acceptable. The EHDEN network (850 million records, 29 countries) and All of Us Research Program (1 million participants) demonstrate OMOP's power at scale.

**Avoid OMOP for single-site curated datasets** without concrete collaboration plans, limited technical resources, needs for maximum flexibility, highly specialized data types, or real-time operational requirements. A healthcare informatics principle: "Healthcare institutions tend to support at most one CDM" due to maintenance burden. Choosing OMOP closes doors to other standards unless you maintain multiple representations.

**For your Thailand radiology use case specifically**, four alternatives merit consideration:

**Option 1: Structured custom schema with standard vocabularies** (recommended for flexibility). Design researcher-optimized tables: demographics using OMOP person concepts, clinical conditions with SNOMED coding, radiology findings with RadLex, imaging metadata with DICOM tags, procedures with CPT/ICD-PCS. Store in Parquet files with comprehensive data dictionaries. You gain vocabulary standardization benefits without ETL complexity, researchers access data directly without complex queries, and the schema evolves with research questions. This approach acknowledges: "Use the source data, transformation to a CDM standard would be redundant."

**Option 2: i2b2 implementation** for cohort discovery with analytical tools. The 175-element star schema ingests data without transformation, queries remain simple (20 lines typical), and 26 specialized tools exist including SHRINE for multi-site queries. Good for single-site research needing more than flat files but less than full OMOP.

**Option 3: FHIR with ImagingStudy resources** if clinical system integration matters. Modern standard with native radiology support, better for EHR interoperability, can transform to OMOP later if multi-site collaboration emerges. Preserves optionality.

**Option 4: OMOP with MI-CDM extension** only if you're planning definite multi-institutional collaboration, have dedicated 3+ person informatics teams, will leverage OHDSI tools extensively (ATLAS for cohorts, Achilles for quality), and 6-12 month implementation is acceptable. The MI-CDM handles imaging-only datasets well with optional visit modeling, but setup burden remains substantial.

## Practical implementation guidance for the two technical challenges

If proceeding with OMOP despite recommendations, specific patterns solve your concerns.

**For person_id management across 6 datasets**: Assign offset ranges (stroke: 1-1M, lung: 1M-2M, head/neck cancer: 2M-3M, etc.). Document in CDM_SOURCE table. Store original study IDs in person_source_value. If patients might appear in multiple studies, implement cross-dataset reconciliation: create person_mapping table, hash demographics (DOB + gender + name hash) to identify candidates, manually review matches above 90% confidence threshold, link via mapping table in queries. Example SQL pattern:

```sql
SELECT a.condition_concept_id, b.measurement_value_as_number
FROM condition_occurrence a
JOIN person_mapping m ON a.person_id = m.person_id_dataset_a  
JOIN measurement b ON m.person_id_dataset_b = b.person_id
WHERE m.match_confidence > 0.9
```

**For visit modeling without clinical visits**: Use VISIT_DETAIL rollup pattern. Create visit_detail records 1:1 with imaging studies (each scan = visit_detail), assign visit_detail_concept_id = 8883 (Radiology Visit), then aggregate to visit_occurrence by person + date. Alternatively, implement MI-CDM Image_occurrence table with NULL visit_occurrence_id—this is explicitly supported for imaging-only datasets. Synthetic visits work when standard OMOP tables required: create visit record per imaging study with visit_concept_id = 0 (no matching concept), visit_type_concept_id = 44803476 (Research administration), same-day start/end dates, documented as "synthetic visits representing imaging events."

The OHDSI Medical Imaging Working Group (bi-weekly meetings, active GitHub) provides ongoing support. Reference implementations available at https://github.com/OHDSI/Radiology-CDM with ETL tools, protocol mappings, and Shiny viewer applications.

## Balanced recommendation: match tool to objective

OMOP CDM transforms multi-institutional observational research through standardization, sophisticated analytics, and federated network capabilities. For research questions requiring analysis across diverse healthcare systems, it's unmatched. The All of Us Research Program, EHDEN, N3C, and 100+ OHDSI network databases demonstrate its value at scale.

However, for curated single-institution research datasets—particularly imaging-focused repositories—simpler approaches often deliver superior researcher experience with lower overhead while maintaining scientific rigor. The transformation burden, schema complexity, vocabulary gaps, and research-specific limitations (no negative findings, forced visit concepts, custom concepts needed) create friction that only justifies when multi-site standardization benefits materialize.

**For Ramathibodi Hospital's 6 radiology datasets**, start with structured custom schema using standard vocabularies. This preserves flexibility, enables direct researcher access, and accommodates imaging data's specialized requirements. If multi-institutional collaborations emerge, transformation to OMOP with MI-CDM remains possible. The key insight: choose your data model based on strategic research direction and available resources, not theoretical interoperability benefits that may never realize. OMOP is excellent for what it was designed for—don't force-fit research use cases unless collaboration justifies the investment.